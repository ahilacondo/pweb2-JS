<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise 5</title>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
    const amountNumsForm = document.querySelector("#amountNumsForm");
    const amountNums = document.querySelector("#amountNums");
    const sumForm = document.querySelector("#sumForm");
    const sumTable = document.querySelector("#sumTable");
    const sumResult = document.querySelector("#sumResult");
    const LIMIT = 10;

    amountNumsForm.onsubmit = function() {
        if(amountNums.value === "") { // trim() could be used
            generateTable(Math.ceil(Math.random() * LIMIT));
        } else {
            generateTable(amountNums.value); // Type Coercion
        }
        return false;
    }

    function generateTable(slots) {
        sumTable.innerHTML = "";
        for(let idx = 0; idx < slots; idx++) {
            sumTable.innerHTML += `
            <tr>
              <input class="nums" type="number">
            </tr>
            `;
         }
        sumTable.innerHTML += `
        <tr>
         <button>Sum All</button>
        </tr>
        `;

        sumForm.onsubmit = function() {
            const numInputs = document.querySelectorAll(".nums");
            const nums = [];
            for(let i = 0; i < numInputs.length; i++) {
              nums.push(numInputs[i]);
             }
            const sum = nums.reduce((a, b) => a + Math.floor(b.value), 0); // Could be better the use of Number.parseInt()
            sumResult.innerHTML = sum; // Could be better if textContent is used instead
            return false;
        }
    }
});
  </script>
</head>
<body>
  <form id="amountNumsForm">
    <input type="number" id="amountNums" placeholder="Enter the amount of nums">
    <button>Generate table</button>
  </form>
  <form id="sumForm">
    <table id="sumTable"></table>
  </form>
  <div id="sumResult"></div>
</body>
</html>
